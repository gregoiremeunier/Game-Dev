// room script file
//THIS IS THE HUB // WHERE YOU HAVE AL THE DOORS IN FRONT OF YOU // AFTER THE FIRST ROOM
//HERE YOU TAKE THE KEY TO ATLAS ROOM

//-------------------------------------------------FIRST TIME YOU ENTER THE ROOM
function room_FirstLoad()
{
  Display("It looks like there are different rooms... I am gonna try to find all the keys I need and escape!");
}

//-------------------------------------------------FIRST ROOM START
function hDoor_intro_Interact()
{
  player.FaceDirection(eDirectionUp);
  player.ChangeRoom(1, 1066, 350, eDirectionDown);
}
function hDoor_intro_Look()
{
  Display("This is a classic brown wooden door, nothing special.");
}

//-------------------------------------------------THIRD ROOM WITH ATLAS
function hDoor_Lv1_Interact()
{
  player.FaceDirection(eDirectionUp);
       if (player.HasInventory(iKey2)) //KEY FOR ATLAS //COMPUTER OPENED IT
     {
       Display("You open the door.");
       player.ChangeRoom(2, 1128, 415, eDirectionDown);
     }
     else
     {
       Display("The door is lock.");
     }
}

//-------------------------------------------------FOURTH ROOM WITH SWIMMING-POOL
//YOU GO HERE *AFTER* ATLAS ROOM
function hDoor_Lv2_Interact()
{
  player.FaceDirection(eDirectionUp);
       if (player.HasInventory(iKey3)) //THE KEY OF SWIMMING POOL 
     {
       Display("The door is open now.");
       player.ChangeRoom(4, 1128, 415, eDirectionDown);
     }
     else
     {
       Display("The door is lock.");
     }
}

//-------------------------------------------------SECOND ROOM HUB (CURRENT)
//-----------------------DOORS
//try to exit with the last door
function hDoor_End_Interact()
{
  player.FaceDirection(eDirectionUp);
       if (player.HasInventory(iKey4)) //if the player has finish the game
     {
        Display("HOURRAAA! THE DOOR OPENS!");
        Display("You finaly managed to exit the building, good job!");
        Display("Now you should exit or restart the game or even enjoy another moment inside here.");
        gPanel.Visible = true; 
        gIconbar.Visible = false;
        mouse.UseModeGraphic(eModePointer);
     }
     
     else //if he miss the last key iKey4
     {
       Display("The door is lock.");
     }
}

//PLACARD
function hDoor_cupboard_Interact()
{
  player.FaceDirection(eDirectionUp);
  Display("You open the door.... And discover that it is just a cupboard !");
}

//-----------------------OBJETCS USE-FULL
//YOU GET THE KEY FOR THE GLOBE MAP
function hChessPieces_Interact()
{
  Display("Is this ... a key ?! You had the key to your inventory.");
  player.AddInventory(iChessKey);
}
//GET THE PASSWORD FOR THE COMPUTER
function hGlobe2_Interact()
{
    if (player.HasInventory(iChessKey)) //if the player has the ChessKey
     {
        player.Walk(1451, 398);
        player.FaceLocation(1451, 398);
        Display("HOOOOO, THE GLOBE OPENS! There is a password! You wrote it down.");
        player.AddInventory(iPassword);
     }
     
     else //if he miss the ChessKey
     {
       player.Walk(1451, 398);
       player.FaceLocation(1451, 398);
       DisplayAt(1451, 398, 100, "Maybe you can open it...");
     }
}
//OPEN THE ATLAS ROOM (FIRST ROOM AFTER STARTING ROOM)
function hComputer2_Interact()
{
 if (player.HasInventory(iPassword)) //if the player has the Password
     {
        player.Walk(643, 290);
        player.FaceLocation(643, 290);
        DisplayAt(643, 290, 100, "I type the password on the keyboard.");
        Display("I heard a 'clong'... Is the door open?");
        player.AddInventory(iKey2);
     }
     
     else //if he miss the Password
     {
       player.Walk(643, 290);
       player.FaceLocation(643, 290);
       DisplayAt(643, 290, 100, "There is a password...");
     }
  
}

//-----------------------OBJETCS USE-LESS
function hLight2_AnyClick()
{
  Display("Fortunately, lights are on here too !");
}
function hChair2_Look()
{
  Display("it's just a chair...");
}

function hChair2_Interact()
{
  Display("You don't have the time to sit !");
}

function hSofa2_Look()
{
  Display("It's seems to be a confortable sofa.");
}

function hSofa2_Interact()
{
  Display("It's a shame but you don't have time to sit.");
}

function hTable2_AnyClick()
{
  Display("It's a classical and sober table.");
}

function hChess2_Look()
{
  player.Walk(808, 493);
  Display("Why is there a chess table here ?... Weird...");
}

function hChess2_Interact()
{
  player.Walk(808, 493);
  Display("Why not take a chess piece ?");
}

function hcommode2middle_Look()
{
  player.FaceLocation(979, 297);
  Display("It's a wooden commode, nothing special.");
}

function hcommode2middle_Interact()
{
  player.Walk(979, 297);
  player.FaceLocation(979, 297);
  DisplayAt(979, 297, 100, "Nothing useful inside.");
}

function hCommodeleft2_Look()
{
  player.FaceLocation(76, 342);
  Display("It's a wooden commode, nothing special.");
}

function hCommodeleft2_Interact()
{
  player.Walk(76, 342);
  player.FaceLocation(76, 342);
  DisplayAt(76, 342, 100, "Nothing useful inside.");
}

function hTableau2_AnyClick()
{
  Display("This picture looks better or less creepy than before.");
}

function hGlobe2_Look()
{
  player.FaceLocation(1451, 398);
  Display("It's a beautiful world map.");
}

function hComputer2_Look()
{
  player.FaceLocation(643, 290);
  Display("A Computer !");
}

function hCage2_AnyClick()
{
  player.FaceLocation(1016, 210);
  Display("A cage... like I'm in !");
}
