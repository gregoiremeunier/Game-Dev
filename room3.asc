// room script file
//THE ROOM WITH ATLAS //NEED TO BREAK THE LAMP NEAR HIM TO GET THE KEY

bool note = false;
// bool needle = false; NOT NEEDED ANYMORE
bool key_lv2 = false;

//-------------------------------------------------FIRST TIME YOU ENTER THE ROOM
function room_FirstLoad()
{
  Display("You enter in a museum-like room, which seems a little bit inappropriate for this place...");  
}

//-------------------------------------------------SECOND ROOM HUB
//-----------------------DOORS
function hDoorBlueHub_Interact()
{
  player.ChangeRoom(2, 513, 285, eDirectionDown);
}

//-------------------------------------------------THIRD ROOM WITH ATLAS (CURRENT)
//-----------------------OBJETCS USE-FULL
//Get the notebook //need it to see the key inside the lamp
function hBooknote3_AnyClick()
{
  Display("There is a note on the book ! I take it and put it in my inventory !");
  player.FaceDirection(eDirectionRight);
  player.AddInventory(iNote);
  //note = true;
}
//The needle for breaking the lamp //need it to break the lamp
function hHorloge3_Interact()
{
  player.Walk(1372, 517);
  Display("You can take a clock needle but not a piece of glass because it's to sharp");
  Display("I had the needle in my inventory.");
  player.AddInventory(iNeedle);
  //needle = true;
}
//Try to get the key in the atlas lamp
function hAtlasLamp3_Interact()
{
  if (player.HasInventory(iNote) == false)//has not the note
  {
    Display("The light is hot !");
  }
  if ((player.HasInventory(iNeedle) == false)&&(player.HasInventory(iNote) == true))//has the note but not the needle
  {
    Display("You look inside and see the Key ! Unfortunately you need something to break the glass...");
  }
  if ((player.HasInventory(iNeedle)== true)&&(player.HasInventory(iNote)==true)) //has the note and the key
  {
    Display("You broke the glass and a key had fallen on the floor ! Victory !");
    oKey3.Visible = true;
    oKey3.Clickable = true;
  }
  player.Walk(763, 665);
}
//take the key on the floor
function oKey3_AnyClick()
{
  player.Walk(763, 665);
  player.FaceLocation(761, 684);
  oKey3.Visible = false;
  player.AddInventory(iKey3); //THE KEY FOR ROOM 4 //PORTE 4 :LEVEL 2 (orange) //THE SWIMMING POOL
}


//-----------------------OBJETCS USE-LESS
function Light3_AnyClick()
{
  Display("It's a little bit too dark here, I would prefer this room with more lights.");
}

function hTable3_AnyClick()
{
  Display("This table looks as usual");
}

function hChair4_Look()
{
  Display("it's just a chair...");
}

function hChair4_Interact()
{
  Display("You don't have the time to sit !");
}

function hHorloge3_Look()
{
  Display("The clock is stopped on midnight and the glass is broken.");
}

function hHotspot6_Look()
{
  player.FaceLocation(1235, 381);
  Display("A modern art statue.... very useful !");
}

function hHotspot6_Interact()
{
  player.FaceLocation(1235, 381);
  Display("I can try to climb this statue or hide myself behind, but I think it's safer to run away from this place.");
}

function hMillo3_Interact()
{
  player.FaceDirection(eDirectionUp);
  Display("Nothing useful on this f*ck*ng statue.");
}

function hMillo3_Look()
{
  player.FaceDirection(eDirectionUp);
  Display("It's really a museum here !");
}

function hTableau3_AnyClick()
{
  Display("Maybe a other time, but right now I really don't have the time to admire them !");
  player.FaceDirection(eDirectionUp);
}

function hAtlas3_Look()
{
  player.FaceLocation(677, 696);
  Display("This man seems to carry the World on his shoulders.");
}

function hAtlas3_Interact()
{
  player.FaceLocation(677, 696);
  player.Walk(789, 711);
  Display("It's a beautiful work, but not really useful for my current situation.");
}

function hAtlasLamp3_Look()
{
  player.FaceLocation(738, 663);
  Display("This light enhances the statue's magnificence.");
}